{"version":3,"file":"src_app_pages_private_Vehicles_vehicle-list_vehicle-list_module_ts.js","mappings":"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","sources":["./src/app/pages/private/Vehicles/vehicle-list/vehicle-list-routing.module.ts","./src/app/pages/private/Vehicles/vehicle-list/vehicle-list.module.ts","./src/app/pages/private/Vehicles/vehicle-list/vehicle-list.page.ts","./src/app/services/loader/loader.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { VehicleListPage } from './vehicle-list.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: VehicleListPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class VehicleListPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { VehicleListPageRoutingModule } from './vehicle-list-routing.module';\r\n\r\nimport { VehicleListPage } from './vehicle-list.page';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    VehicleListPageRoutingModule,\r\n    TranslateModule.forChild()\r\n  ],\r\n  declarations: [VehicleListPage]\r\n})\r\nexport class VehicleListPageModule {}\r\n","import { AfterViewInit, Component, OnInit } from '@angular/core';\r\nimport { NavigationEnd, NavigationExtras, Router } from '@angular/router';\r\nimport { ViewDidEnter } from '@ionic/angular';\r\nimport { SearchFilter } from 'src/app/models/SearchFilter';\r\nimport { Vehicle } from 'src/app/models/Vehicle';\r\nimport { LanguageService } from 'src/app/services/language/language.service';\r\nimport { LoaderService } from 'src/app/services/loader/loader.service';\r\nimport { VehicleService } from 'src/app/services/vehicle/vehicle.service';\r\nimport { UserService } from 'src/app/services/user/user.service';\r\nimport { formatDate } from '@angular/common';\r\nimport { LocalStorageService } from 'src/app/services/localStorage/local-storage.service';\r\nimport { User } from 'src/app/models/user';\r\nimport { KeywordConstants } from 'src/assets/constants/constants';\r\n\r\n@Component({\r\n  selector: 'app-vehicle-list',\r\n  templateUrl: './vehicle-list.page.html',\r\n  styleUrls: ['./vehicle-list.page.scss'],\r\n})\r\nexport class VehicleListPage implements OnInit, ViewDidEnter,AfterViewInit {\r\n  public vehicles: Vehicle[];\r\n\r\n  public showEditButton: boolean = false;\r\n  public loggedInUser:User;\r\n\r\n\r\n  //Pagination\r\n\r\n  public countPerPage: number = 10;\r\n  public totalPages: number = 0;\r\n  public skip: number = 0;\r\n  public totalRecords: number = -1;\r\n  public limit: number = 10;\r\n  public currentPage: number = 1;\r\n  public pages: number[];\r\n\r\n  public allowNext: boolean = false;\r\n  public allowPrev: boolean = false;\r\n  public allowFirst: boolean = false;\r\n  public allowLast: boolean = false;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vehicleService: VehicleService,\r\n    private userService: UserService,\r\n    private localStorageService:LocalStorageService,\r\n    private languageService: LanguageService,\r\n    public loaderService: LoaderService) {\r\n\r\n      this.pages = new Array<number>();\r\n      this.currentPage=1;\r\n      this.pages.push(this.currentPage);\r\n      this.vehicles = new Array<Vehicle>();\r\n      if (this.vehicleService.searchFilter == null){\r\n          this.vehicleService.searchFilter = new SearchFilter(JSON.parse('{}'));\r\n      }\r\n\r\n      this.router.events.forEach((event) => {\r\n        if (event instanceof NavigationEnd) {\r\n\r\n\r\n        }\r\n      });\r\n  }\r\n  ngAfterViewInit(): void {\r\n    this.loggedInUser =this.localStorageService.StoredPreference.LoggedInUser;\r\n    this.showEditButton = this.loggedInUser.Role !== 'User' ? true : false;\r\n  }\r\n\r\n  ionViewDidEnter(): void {\r\n    this.loadVehicles();\r\n  }\r\n\r\n  ngOnInit() {\r\n    let v = new Vehicle(JSON.parse('{}'));\r\n    v.Icon = 'car-sharp';\r\n    v.Registration_Number = 'Loading Registraion Number...';\r\n    v.Vehicle_Type = 'Loading Vehicle Type...';\r\n    v.Color = 'Loading Color...';\r\n    v.Company = 'Loading Details...';\r\n    this.vehicles.push(v);\r\n  }\r\n  VehicleSelcted(selectedVehicle: Vehicle) {\r\n    this.vehicleService.selectedVehicle = selectedVehicle;\r\n    this.vehicleService.source = 'home/vehicle-list';\r\n    let navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n        rowIndex: selectedVehicle.rowIndex,\r\n        ts: new Date().getMilliseconds()\r\n      }\r\n    };\r\n    this.router.navigate(['home/vehicle-details'], navigationExtras);\r\n  }\r\n\r\n  EditButtonClicked(selectedVehicle: Vehicle)\r\n  {\r\n    let navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n        rowIndex: selectedVehicle.rowIndex,\r\n        ts: new Date().getMilliseconds()\r\n      }\r\n    };\r\n    this.router.navigate([\"home/update-vehicle\"],navigationExtras);\r\n  }\r\n\r\n  backToSearchPage()\r\n  {\r\n\r\n    let navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n        ts: new Date().getMilliseconds()\r\n      }\r\n    };\r\n    this.router.navigate(['home'], navigationExtras);\r\n  }\r\n  loadVehicles() {\r\n    this.loaderService.customLoader('Loading Vehicles...', 10000);\r\n    this.vehicles = new Array<Vehicle>();\r\n    this.vehicleService.list(this.skip, this.limit, resp => {\r\n      this.handleResponse(resp);\r\n      this.loaderService.dismissLoader();\r\n    }, error => {\r\n      this.loaderService.dismissLoader();\r\n    });\r\n  }\r\n\r\n //Data Loaders\r\n\r\n  GetIcon(vehicleType)\r\n  {\r\n    switch(vehicleType)\r\n        {\r\n          case \"Two Wheeler\":\r\n                return \"/assets/icon/two-wheeler.png\";\r\n                break;\r\n          case \"Three Wheeler\":\r\n                return \"/assets/icon/three-wheeler.png\";\r\n                break;\r\n          case \"Four Wheeler\":\r\n                return \"/assets/icon/four-wheeler.png\";\r\n                break;\r\n          case \"Bus\":\r\n              return \"/assets/icon/bus.png\";\r\n                break;\r\n           case \"Truck\":\r\n                return \"/assets/icon/truck.png\";\r\n                break;\r\n            default :\r\n                return \"/assets/icon/four-wheeler.png\";\r\n                break;\r\n        }\r\n  }\r\n\r\n  handleResponse(response)\r\n  {\r\n    response.results.forEach(element => {\r\n      var vehicle = new Vehicle(element);\r\n      try\r\n      {\r\n        vehicle.Timestamp = formatDate(vehicle.Timestamp?.toString(), 'dd/MM/yyyy HH:mm:ss', 'en-US', '+0530');\r\n      }\r\n      catch(ex)\r\n      {}\r\n      this.vehicles.push(vehicle);\r\n    });\r\n    this.totalRecords = response.totalRecords;\r\n    this.pages = new Array();\r\n    this.totalPages = Math.ceil(response.totalRecords / 10)\r\n\r\n    if (this.totalPages > 5) {\r\n      if(this.currentPage==this.totalPages)\r\n      {\r\n        this.allowFirst = true;\r\n        this.allowPrev = true;\r\n        this.allowLast = false;\r\n        this.allowNext = false;\r\n\r\n        this.pages.push(this.currentPage-2);\r\n        this.pages.push(this.currentPage-1);\r\n        this.pages.push(this.currentPage);\r\n      }\r\n      else\r\n      if(this.currentPage==1)\r\n      {\r\n        this.allowFirst = false;\r\n        this.allowPrev = false;\r\n        this.allowLast = true;\r\n        this.allowNext = true;\r\n\r\n        this.pages.push(this.currentPage);\r\n        this.pages.push(this.currentPage+1);\r\n        this.pages.push(this.currentPage+2);\r\n      }\r\n      else\r\n      {\r\n        this.allowFirst = true;\r\n        this.allowPrev = true;\r\n        this.allowLast = true;\r\n        this.allowNext = true;\r\n\r\n        this.pages.push(this.currentPage-1);\r\n        this.pages.push(this.currentPage);\r\n        this.pages.push(this.currentPage+1);\r\n      }\r\n\r\n    }\r\n    else {\r\n      for (let index = 1; index <= this.totalPages; index++) {\r\n        this.pages.push(index);\r\n      }\r\n\r\n    }\r\n\r\n\r\n  }\r\n  //Pagination\r\n\r\n  //Pagination\r\n  FirstClicked() {\r\n    this.currentPage = 1;\r\n    this.limit = this.countPerPage;\r\n    this.skip = this.countPerPage * (this.currentPage-1);\r\n    this.loadVehicles();\r\n\r\n  }\r\n  PrevClicked() {\r\n    this.currentPage--;\r\n    this.limit = this.countPerPage;\r\n    this.skip = this.countPerPage * (this.currentPage-1);\r\n    this.loadVehicles();\r\n  }\r\n  NextClicked() {\r\n    this.currentPage++;\r\n    this.limit = this.countPerPage;\r\n    this.skip = this.countPerPage * (this.currentPage-1);\r\n    this.loadVehicles();\r\n  }\r\n  LastClicked() {\r\n    this.currentPage = this.totalPages;\r\n    this.limit = this.countPerPage;\r\n    this.skip = this.countPerPage * (this.currentPage - 1);\r\n    this.loadVehicles();\r\n  }\r\n  PageClicked(page) {\r\n    this.currentPage = page;\r\n    this.limit = this.countPerPage;\r\n    this.skip = this.countPerPage * (this.currentPage - 1);\r\n    this.loadVehicles();\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { LoadingController } from '@ionic/angular';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoaderService {\r\n\r\n  constructor(\r\n    public loadingController: LoadingController\r\n  ) { }\r\n  // Simple loader\r\nsimpleLoader() {\r\n  this.loadingController.create({\r\n      message: 'Loading...'\r\n  }).then((response) => {\r\n      response.present();\r\n  });\r\n}\r\n// Dismiss loader\r\ndismissLoader() {\r\n  this.loadingController.dismiss().then((response) => {\r\n      console.log('Loader closed!', response);\r\n  }).catch((err) => {\r\n      console.log('Error occured : ', err);\r\n  });\r\n}\r\nautoLoader(message,time) {\r\n  this.loadingController.create({\r\n    message: message,\r\n    duration: time\r\n  }).then((response) => {\r\n    response.present();\r\n    response.onDidDismiss().then((response) => {\r\n      console.log('Loader dismissed', response);\r\n    });\r\n  });\r\n} \r\n// Custom style + hide on tap loader\r\ncustomLoader(message,time) {\r\n  this.loadingController.create({\r\n    message: message,\r\n    duration: time,\r\n    cssClass:'loader-css-class',\r\n    backdropDismiss:true\r\n  }).then((res) => {\r\n    res.present();\r\n  });\r\n}\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}