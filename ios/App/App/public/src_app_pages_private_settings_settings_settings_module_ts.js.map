{"version":3,"file":"src_app_pages_private_settings_settings_settings_module_ts.js","mappings":"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","sources":["./src/app/pages/private/settings/settings/settings-routing.module.ts","./src/app/pages/private/settings/settings/settings.module.ts","./src/app/pages/private/settings/settings/settings.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SettingsPage } from './settings.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SettingsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SettingsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport {Component} from '@angular/core';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SettingsPageRoutingModule } from './settings-routing.module';\r\n\r\nimport { SettingsPage } from './settings.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SettingsPageRoutingModule,\r\n    TranslateModule.forChild()\r\n  ],\r\n  declarations: [SettingsPage]\r\n})\r\nexport class SettingsPageModule {}\r\n","import { AfterViewInit, Component, OnInit } from '@angular/core';\r\nimport { NavigationEnd, Router } from '@angular/router';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { LanguageService } from 'src/app/services/language/language.service';\r\nimport { LocalStorageService } from 'src/app/services/localStorage/local-storage.service';\r\nimport { KeywordConstants } from 'src/assets/constants/constants';\r\nimport { VehicleService } from 'src/app/services/vehicle/vehicle.service';\r\nimport { VisualizationService } from 'src/app/services/visualization/visualization.service';\r\nimport { User } from 'src/app/models/user';\r\n\r\n@Component({\r\n  selector: 'app-settings',\r\n  templateUrl: './settings.page.html',\r\n  styleUrls: ['./settings.page.scss'],\r\n})\r\nexport class SettingsPage implements OnInit, AfterViewInit {\r\n  public languageSelected: string='en';\r\n  public languageSelectedLabel: string='English';\r\n  loading: any;\r\n  public loggedInUser: User;\r\n  constructor(\r\n    private router: Router,\r\n    public loadingController: LoadingController,\r\n    private vehicleService: VehicleService,\r\n    private visualizationService: VisualizationService,\r\n    private localStorageService: LocalStorageService,\r\n    private languageService: LanguageService\r\n  ) {\r\n    this.loggedInUser = new User(JSON.parse('{}'));\r\n    this.router.events.forEach((event) => {\r\n      if (event instanceof NavigationEnd) {\r\n        this.serveBasedOnUserRole();\r\n      }\r\n    });\r\n  }\r\n  serveBasedOnUserRole() {\r\n    //Role wise changes\r\n    this.loggedInUser = this.localStorageService.StoredPreference.LoggedInUser;\r\n  }\r\n  loadLocalizationDetails()\r\n  {\r\n    this.languageSelected = this.localStorageService.StoredPreference.SelectedLanguage;\r\n    this.updateSelectedLanguageLabel();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.loadLocalizationDetails();\r\n    this.loggedInUser = this.localStorageService.StoredPreference.LoggedInUser;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loggedInUser = this.localStorageService.StoredPreference.LoggedInUser;\r\n  }\r\n\r\n\r\n  languageChangeButtonClicked() {\r\n    this.languageService.presentLanguageSelctionMenu(changed=>{\r\n      this.initializeLoader('SETTINGS_PAGE.CHANGING_LANGUAGE_MESSAGE');\r\n      setTimeout(() => {\r\n        this.updateSelectedLanguageLabel();\r\n          }, 3000);\r\n    });\r\n  }\r\n\r\n  reloadMetaDataButtonClicked(){\r\n    this.resetMetaData();\r\n    this.initializeLoader('SETTINGS_PAGE.REFRESHMETADATA_MESSAGE');\r\n      setTimeout(() => {\r\n        this.vehicleService.LoadMetaData(resp=>{\r\n          resp.forEach(row => {\r\n            switch(row.Type){\r\n              case 'District':\r\n                if(row.Name.toLowerCase() === 'thane'){\r\n                  this.vehicleService.PoliceStationList.push(row.Value);\r\n                }\r\n              break;\r\n              case 'VehicleType':\r\n                this.vehicleService.vehicleTypes.push(row.Value);\r\n              break;\r\n              case 'VehicleCategory':\r\n                this.vehicleService.vehicleCategories.push(row.Value);\r\n              break;\r\n              case 'VehicleCompany':\r\n                this.vehicleService.AllCompanies.push(row.Value);\r\n                if(row.Name.toLowerCase() === 'two wheeler'){\r\n                  this.vehicleService.TwoWheelerVehicleCompanies.push(row.Value);\r\n                }\r\n                if(row.Name.toLowerCase() === 'three wheeler'){\r\n                  this.vehicleService.ThreeWheelerVehicleCompanies.push(row.Value);\r\n                }\r\n                if(row.Name.toLowerCase() === 'four wheeler'){\r\n                  this.vehicleService.FourWheelerVehicleCompanies.push(row.Value);\r\n                }\r\n                if(row.Name.toLowerCase() === 'bus'){\r\n                  this.vehicleService.BusVehicleCompanies.push(row.Value);\r\n                }\r\n                if(row.Name.toLowerCase() === 'truck'){\r\n                  this.vehicleService.TruckVehicleCompanies.push(row.Value);\r\n                }\r\n              break;\r\n              case 'Visualization':\r\n                this.visualizationService.showBy.push(row.Value);\r\n              break;\r\n            }\r\n          });\r\n        },error=>{\r\n          console.log('Error occured while reloading metadata')\r\n        });\r\n          }, 2000);\r\n  }\r\n  resetMetaData() {\r\n    this.vehicleService.PoliceStationList = new Array<string>();\r\n    this.vehicleService.vehicleTypes = new Array<string>();\r\n    this.vehicleService.vehicleCategories = new Array<string>();\r\n    this.vehicleService.AllCompanies = new Array<string>();\r\n    this.vehicleService.TwoWheelerVehicleCompanies = new Array<string>();\r\n    this.vehicleService.ThreeWheelerVehicleCompanies = new Array<string>();\r\n    this.vehicleService.FourWheelerVehicleCompanies = new Array<string>();\r\n    this.vehicleService.BusVehicleCompanies = new Array<string>();\r\n    this.vehicleService.TruckVehicleCompanies = new Array<string>();\r\n    this.visualizationService.showBy = new Array<string>();\r\n  }\r\n\r\n  updateSelectedLanguageLabel()\r\n  {\r\n    this.languageSelected = this.localStorageService.StoredPreference.SelectedLanguage;\r\n     this.languageService.getLanguageList().forEach(lang => {\r\n      if(lang[\"value\"] === this.languageSelected)\r\n        this.languageSelectedLabel = lang[\"label\"];\r\n     });\r\n  }\r\n    //Loaders\r\n    async initializeLoader(message) {\r\n      this.loading = await this.loadingController.create({\r\n        message: this.languageService.translate(message),\r\n        duration: 4000,\r\n      });\r\n      this.loading.present();\r\n    }\r\n}\r\n"],"names":["Component","NavigationEnd","Router","LoadingController","LanguageService","LocalStorageService","VehicleService","VisualizationService","User","SettingsPage","constructor","router","loadingController","vehicleService","visualizationService","localStorageService","languageService","loggedInUser","JSON","parse","events","forEach","event","serveBasedOnUserRole","StoredPreference","LoggedInUser","loadLocalizationDetails","languageSelected","SelectedLanguage","updateSelectedLanguageLabel","ngAfterViewInit","ngOnInit","languageChangeButtonClicked","presentLanguageSelctionMenu","changed","initializeLoader","setTimeout","reloadMetaDataButtonClicked","resetMetaData","LoadMetaData","resp","row","Type","Name","toLowerCase","PoliceStationList","push","Value","vehicleTypes","vehicleCategories","AllCompanies","TwoWheelerVehicleCompanies","ThreeWheelerVehicleCompanies","FourWheelerVehicleCompanies","BusVehicleCompanies","TruckVehicleCompanies","showBy","error","console","log","Array","getLanguageList","lang","languageSelectedLabel","message","loading","create","translate","duration","present","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}