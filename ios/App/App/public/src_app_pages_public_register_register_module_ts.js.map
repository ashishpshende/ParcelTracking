{"version":3,"file":"src_app_pages_public_register_register_module_ts.js","mappings":"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","sources":["./src/app/pages/public/register/register-routing.module.ts","./src/app/pages/public/register/register.module.ts","./src/app/pages/public/register/register.page.ts","./src/app/services/loader/loader.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RegisterPage } from './register.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegisterPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RegisterPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule,ReactiveFormsModule  } from '@angular/forms';\r\nimport { SharedModule } from '../../../shared/shared/shared.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RegisterPageRoutingModule } from './register-routing.module';\r\n\r\nimport { RegisterPage } from './register.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    RegisterPageRoutingModule,\r\n    SharedModule,\r\n    TranslateModule.forChild()\r\n  ],\r\n  declarations: [RegisterPage]\r\n})\r\nexport class RegisterPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\r\nimport { NavController, MenuController, LoadingController, AlertController } from '@ionic/angular';\r\nimport { User } from 'src/app/models/user';\r\nimport { LanguageService } from 'src/app/services/language/language.service';\r\nimport { LoaderService } from 'src/app/services/loader/loader.service';\r\nimport { UserService } from 'src/app/services/user/user.service';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.page.html',\r\n  styleUrls: ['./register.page.scss'],\r\n})\r\nexport class RegisterPage implements OnInit {\r\n  public user: User;\r\n  public genders: Array<string> = [];\r\n  public roles: Array<string> = [];\r\n  public statuses: Array<string> = [];\r\n  public onRegisterForm: FormGroup;\r\n  constructor(\r\n    public loadingCtrl: LoadingController,\r\n    private userService: UserService,\r\n    public alertController: AlertController,\r\n    private languageService: LanguageService,\r\n    private router: Router,\r\n    private loaderService: LoaderService\r\n  ) {\r\n    this.user = new User(JSON.parse(\"{}\"));\r\n    this.genders = this.userService.genders;\r\n    this.roles = this.userService.roles;\r\n    this.statuses = this.userService.statuses;\r\n    this.user.Role = \"User\";\r\n    this.user.Status = \"InActive\";\r\n    //For testing\r\n    this.user.FirstName = \"\";\r\n    this.user.LastName = \"\";\r\n    this.user.Email = \"\";\r\n    this.user.PhoneNumber = \"\";\r\n    this.user.UserName = \"\";\r\n    this.user.Gender = \"\";\r\n  }\r\n  ionViewWillEnter() {\r\n  }\r\n  goToLogin() {\r\n    this.router.navigate(['/login']);\r\n  }\r\n  ngOnInit() {\r\n  }\r\n  ngAfterViewInit(): void {\r\n  }\r\n  SaveUser(succes: (any), failure: (any)) {\r\n    this.loaderService.customLoader(\"Saving User...\", 10000);\r\n    this.user.Password = \"password\";\r\n    this.user.ResetRequired = true;\r\n    this.userService.SaveUser(this.user, results => {\r\n      this.loaderService.dismissLoader();\r\n      succes(this.user);\r\n    }, error => {\r\n      this.loaderService.dismissLoader();\r\n      failure();\r\n    });\r\n  }\r\n  checkEmailExistance(present: (any), absent: (any)) {\r\n    this.loaderService.customLoader(\"Checking for Email...\", 10000);\r\n    this.userService.readByEmail(this.user.Email, results => {\r\n      this.loaderService.dismissLoader();\r\n      if (results.length != 0) {\r\n        present(new User(results[0]))\r\n      }\r\n      else {\r\n        absent();\r\n      }\r\n    }, error => {\r\n      this.loaderService.dismissLoader();\r\n      absent();\r\n    });\r\n  }\r\n  checkUserNameExistance(present: (any), absent: (any)) {\r\n    this.loaderService.customLoader(\"Checking for User Name...\", 10000);\r\n    this.userService.readByUserName(this.user.UserName, results => {\r\n      this.loaderService.dismissLoader();\r\n      if (results.length != 0) {\r\n        present(new User(results[0]))\r\n      }\r\n      else {\r\n        absent();\r\n      }\r\n    }, error => {\r\n      this.loaderService.dismissLoader();\r\n      absent();\r\n    });\r\n  }\r\n\r\n  SaveButtonClicked() {\r\n    if (this.userService.Validate(this.user)) {\r\n      this.checkEmailExistance(\r\n        existinguser => {\r\n          this.presentAlert(this.languageService.translate(\"SIGN_UP.ALREADY_REGISTERED\"), this.languageService.translate(\"SIGN_UP.USER_WITH_EMAIL_ALREADY_EXISTS\"))\r\n        },\r\n        absent => {\r\n          this.checkUserNameExistance(existinguser => {\r\n            this.presentAlert(this.languageService.translate(\"SIGN_UP.ALREADY_REGISTERED\"), this.languageService.translate(\"SIGN_UP.USER_WITH_USERNAME_ALREADY_EXISTS\"))\r\n\r\n          }, absent => {\r\n            this.SaveUser(success => {\r\n              this.user = success;\r\n\r\n              this.GotoLogin();\r\n            }, failure => {\r\n              this.presentAlert(this.languageService.translate(\"SIGN_UP.REGISTRATION_FAILED\"), this.languageService.translate(\"SIGN_UP.REGISTRATION_FAILED_MESSAGE\"))\r\n            });\r\n          });\r\n        });\r\n    }\r\n    else {\r\n      this.presentAlert(this.languageService.translate(\"SIGN_UP.EMPTY_DETAILS\"), this.languageService.translate(\"SIGN_UP.EMPTY_DETAILS_MESSAGE\"))\r\n    }\r\n  }\r\n  CancelButtonClicked() {\r\n    this.GotoLogin();\r\n  }\r\n  GotoLogin() {\r\n    let navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n        ts: new Date().getMilliseconds()\r\n      }\r\n    };\r\n    this.router.navigate([\"login\"], navigationExtras);\r\n  }\r\n  //Alerts\r\n  async presentAlert(headerTitle = this.languageService.translate('SIGN_UP.TITLE'), message = this.languageService.translate('SIGN_UP.REGISTRATION_FAILED')) {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'app-alert-class',\r\n      header: headerTitle,\r\n      subHeader: \"\",\r\n      message: message,\r\n      buttons: [this.languageService.translate('BUTTONS.OK')]\r\n    });\r\n    await alert.present();\r\n    const { role } = await alert.onDidDismiss();\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { LoadingController } from '@ionic/angular';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoaderService {\r\n\r\n  constructor(\r\n    public loadingController: LoadingController\r\n  ) { }\r\n  // Simple loader\r\nsimpleLoader() {\r\n  this.loadingController.create({\r\n      message: 'Loading...'\r\n  }).then((response) => {\r\n      response.present();\r\n  });\r\n}\r\n// Dismiss loader\r\ndismissLoader() {\r\n  this.loadingController.dismiss().then((response) => {\r\n      console.log('Loader closed!', response);\r\n  }).catch((err) => {\r\n      console.log('Error occured : ', err);\r\n  });\r\n}\r\nautoLoader(message,time) {\r\n  this.loadingController.create({\r\n    message: message,\r\n    duration: time\r\n  }).then((response) => {\r\n    response.present();\r\n    response.onDidDismiss().then((response) => {\r\n      console.log('Loader dismissed', response);\r\n    });\r\n  });\r\n} \r\n// Custom style + hide on tap loader\r\ncustomLoader(message,time) {\r\n  this.loadingController.create({\r\n    message: message,\r\n    duration: time,\r\n    cssClass:'loader-css-class',\r\n    backdropDismiss:true\r\n  }).then((res) => {\r\n    res.present();\r\n  });\r\n}\r\n}\r\n"],"names":["Component","Router","LoadingController","AlertController","User","LanguageService","LoaderService","UserService","RegisterPage","constructor","loadingCtrl","userService","alertController","languageService","router","loaderService","user","JSON","parse","genders","roles","statuses","Role","Status","FirstName","LastName","Email","PhoneNumber","UserName","Gender","ionViewWillEnter","goToLogin","navigate","ngOnInit","ngAfterViewInit","SaveUser","succes","failure","customLoader","Password","ResetRequired","results","dismissLoader","error","checkEmailExistance","present","absent","readByEmail","length","checkUserNameExistance","readByUserName","SaveButtonClicked","Validate","existinguser","presentAlert","translate","success","GotoLogin","CancelButtonClicked","navigationExtras","queryParams","ts","Date","getMilliseconds","headerTitle","message","alert","create","cssClass","header","subHeader","buttons","role","onDidDismiss","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}