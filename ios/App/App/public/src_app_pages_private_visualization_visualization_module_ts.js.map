{"version":3,"file":"src_app_pages_private_visualization_visualization_module_ts.js","mappings":"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","sources":["./src/app/pages/private/visualization/visualization-routing.module.ts","./src/app/pages/private/visualization/visualization.module.ts","./src/app/pages/private/visualization/visualization.page.ts","./src/app/services/loader/loader.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { VisualizationPage } from './visualization.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: VisualizationPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class VisualizationPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { VisualizationPageRoutingModule } from './visualization-routing.module';\r\nimport { VisualizationPage } from './visualization.page';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgApexchartsModule } from 'ng-apexcharts';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    VisualizationPageRoutingModule,\r\n    NgApexchartsModule,\r\n    TranslateModule.forChild()\r\n  ],\r\n  declarations: [VisualizationPage]\r\n})\r\nexport class VisualizationPageModule {}\r\n","/* eslint-disable max-len */\r\n/* eslint-disable @typescript-eslint/member-ordering */\r\n/* eslint-disable prefer-arrow/prefer-arrow-functions */\r\nimport { AfterViewInit, ElementRef, Component, OnInit, ViewChild } from '@angular/core';\r\nimport { NavigationEnd, NavigationExtras, Router } from '@angular/router';\r\nimport { User } from 'src/app/models/user';\r\nimport { LoaderService } from 'src/app/services/loader/loader.service';\r\nimport { LocalStorageService } from 'src/app/services/localStorage/local-storage.service';\r\nimport { UserService } from 'src/app/services/user/user.service';\r\nimport { KeywordConstants } from 'src/assets/constants/constants';\r\nimport { IonModal } from '@ionic/angular';\r\nimport { OverlayEventDetail } from '@ionic/core/components';\r\nimport { ChartComponent,ApexNonAxisChartSeries, ApexResponsive, ApexChart, ApexFill, ApexTitleSubtitle,ApexPlotOptions } from 'ng-apexcharts';\r\nimport { VisualizationService } from 'src/app/services/visualization/visualization.service';\r\n\r\nexport type ChartOptions = {\r\n  series: ApexNonAxisChartSeries;\r\n  chart: ApexChart;\r\n  responsive: ApexResponsive[];\r\n  labels: any;\r\n  title: ApexTitleSubtitle;\r\n  fill: ApexFill;\r\n  plotOptions: ApexPlotOptions;\r\n};\r\n\r\n@Component({\r\n  selector: 'app-visualization',\r\n  templateUrl: './visualization.page.html',\r\n  styleUrls: ['./visualization.page.scss'],\r\n})\r\nexport class VisualizationPage implements OnInit, AfterViewInit {\r\n  public loggedInUser: User;\r\n  public users: User[];\r\n  public showBy: string[];\r\n  public selectedItem: string;\r\n  public series: number[];\r\n  public label: string[];\r\n  public showChart: boolean;\r\n  @ViewChild('chart') chart: ChartComponent;\r\n  public chartOptions: Partial<ChartOptions>;\r\n\r\n  constructor(private userService: UserService,\r\n    private visualizationService: VisualizationService,\r\n    public loaderService: LoaderService,\r\n    private router: Router,\r\n    private localStorageService: LocalStorageService) {\r\n    this.users = new Array<User>();\r\n    this.router.events.forEach((event) => {\r\n      if (event instanceof NavigationEnd) {\r\n      }\r\n    });\r\n    this.showChart = false;\r\n    //this.pieChart();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loggedInUser = this.localStorageService.StoredPreference.LoggedInUser;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.showBy = this.visualizationService.showBy;\r\n  }\r\n\r\n  showByChanged(){\r\n    this.loaderService.customLoader('Loading Visualization...', 90000);\r\n    this.visualizationService.loadVisualization(this.selectedItem, resp => {\r\n      this.showChart = true;\r\n      this.label = resp.labels;\r\n      this.series = resp.series;\r\n      this.pieChart();\r\n      this.loaderService.dismissLoader();\r\n    }, error => {\r\n      this.loaderService.dismissLoader();\r\n    });\r\n  }\r\n\r\n  setShowByFields(){\r\n    this.loaderService.customLoader('Loading Show by fields...', 10000);\r\n    this.visualizationService.loadVisualization(this.selectedItem, resp => {\r\n      this.showBy = this.visualizationService.showBy;\r\n      this.loaderService.dismissLoader();\r\n    }, error => {\r\n      this.loaderService.dismissLoader();\r\n    });\r\n  }\r\n\r\n  pieChart(){\r\n    this.chartOptions = {\r\n      series: this.series,\r\n      chart: {\r\n        width: 400,\r\n        type: 'pie'\r\n      },\r\n      labels: this.label,\r\n      title: {\r\n        text: 'Vehicles Statistics',\r\n        align: 'center'\r\n      },\r\n      fill: {\r\n        type: 'gradient'\r\n      },\r\n      plotOptions:{\r\n        pie:{\r\n          donut:{\r\n            size: '100%'\r\n          }\r\n        }\r\n      },\r\n      responsive: [\r\n        {\r\n          breakpoint: 500,\r\n          options: {\r\n            chart: {\r\n              width: 400\r\n            },\r\n            legend: {\r\n              position: 'bottom',\r\n              floating: false,\r\n              horizontalAlign: 'center'\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  //modal\r\n  @ViewChild(IonModal) modal: IonModal;\r\n\r\n  message = 'This modal example uses triggers to automatically open a modal when the button is clicked.';\r\n  name: string;\r\n\r\n  cancel() {\r\n    this.modal.dismiss(null, 'cancel');\r\n  }\r\n\r\n  confirm() {\r\n    this.modal.dismiss(this.name, 'confirm');\r\n  }\r\n\r\n  onWillDismiss(event: Event) {\r\n    const ev = event as CustomEvent<OverlayEventDetail<string>>;\r\n    if (ev.detail.role === 'confirm') {\r\n      this.message = `Hello, ${ev.detail.data}!`;\r\n    }\r\n  }\r\n  handleRefresh(ev){\r\n    if(this.selectedItem !== undefined && this.selectedItem !== ''){\r\n      this.visualizationService.loadVisualization(this.selectedItem, resp => {\r\n        this.showChart = true;\r\n        this.label = resp.labels;\r\n        this.series = resp.series;\r\n        this.pieChart();\r\n        ev.target.complete();\r\n      }, error => {\r\n        ev.target.complete();\r\n      });\r\n    }\r\n    else{\r\n      ev.target.complete();\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { LoadingController } from '@ionic/angular';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoaderService {\r\n\r\n  constructor(\r\n    public loadingController: LoadingController\r\n  ) { }\r\n  // Simple loader\r\nsimpleLoader() {\r\n  this.loadingController.create({\r\n      message: 'Loading...'\r\n  }).then((response) => {\r\n      response.present();\r\n  });\r\n}\r\n// Dismiss loader\r\ndismissLoader() {\r\n  this.loadingController.dismiss().then((response) => {\r\n      console.log('Loader closed!', response);\r\n  }).catch((err) => {\r\n      console.log('Error occured : ', err);\r\n  });\r\n}\r\nautoLoader(message,time) {\r\n  this.loadingController.create({\r\n    message: message,\r\n    duration: time\r\n  }).then((response) => {\r\n    response.present();\r\n    response.onDidDismiss().then((response) => {\r\n      console.log('Loader dismissed', response);\r\n    });\r\n  });\r\n} \r\n// Custom style + hide on tap loader\r\ncustomLoader(message,time) {\r\n  this.loadingController.create({\r\n    message: message,\r\n    duration: time,\r\n    cssClass:'loader-css-class',\r\n    backdropDismiss:true\r\n  }).then((res) => {\r\n    res.present();\r\n  });\r\n}\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}